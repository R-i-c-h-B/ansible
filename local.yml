- hosts: localhost
  become: true
  tasks:
  #- name: add MS Repo
#    yum_repository:
#      name: mslinux
#      description: microsoft for linux
#      baseurl: https://packages.microsoft.com/config/fedora/27/packages-microsoft-prod.rpm
#      enabled: 1
#      repo_gpgcheck: 0
#      gpgcheck: 1
#      gpgkey: https://packages.microsoft.com/keys/microsoft.asc
      
    


- name: Install python-dnf module
    dnf:
      name: python-dnf
      state: present

  - name: Remove existing unofficial Docker packages
    dnf:
      name: "{{ item }}"
      state: absent
    with_items:
      - docker
      - docker-common
      - container-selinux
      - docker-selinux

  - name: Install dnf-plugins-core to manage DNF repository
    dnf:
      name:  dnf-plugins-core
      state: present

  - name: Add docker repo
    shell:  'dnf config-manager \
      --add-repo \
      https://download.docker.com/linux/fedora/docker-ce.repo'

  
- name: Install Packages 
    dnf: 
      name: ['htop', 'iotop', 'chromium', 'https://go.microsoft.com/fwlink/?LinkID=760681', 'docker-ce', 'docker-ce-cli', 'containerd.io']
    # vscode from microsoft here -
    #- https://go.microsoft.com/fwlink/?LinkID=760681


  - name: Start docker service
    systemd:
      state: started
      name: docker
    
#######################
# GNOME Scroll Bars.
#cd ~/.config/gtk-4.0/
# or maybe 3.0
# touch gtk.css
# vi gtk.css
#scrollbar {
#    min-width: 15px;
#    min-height: 15px;
#}
#########################
